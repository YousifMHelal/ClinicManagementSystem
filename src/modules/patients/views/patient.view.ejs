<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>بيانات المريض</title>

    <link rel="stylesheet" href="/css/bootstrap.min.css" />
    <link rel="stylesheet" href="/css/bootstrap-icons.css" />
    <link rel="stylesheet" href="/css/docs.css" />
    <link rel="stylesheet" href="/css/main.css" />
    
  </head>
  <body style="position: relative">

    <%- include("../../common/views/navbar.view.ejs") %>
    <%- include("./update.patient.component.view.ejs") %>
    <%- include("../../visits/views/update.visit.component.view.ejs") %>
    <%- include("../../visits/views/update.visit.permission.component.view.ejs") %>
    
    <div id="addPatientVisitFormId" class="form bg-light rounded-3 d-flex gap-3 flex-column p-5 d-none" style="border: 2px solid var(--main)">
      <span id="closePatientVisitFormId" class="text-danger fw-bold fs-4 pointer" style="position: absolute; top: 5px; right: 20px">x</span>
      <h3 class="text-center">اضافة زيارة</h3>

      <div class="d-flex flex-column gap-1">
        <label for="addVisitOpenionInputId" style="color: var(--sub)">التشخيص *</label>
        <input id="addVisitOpenionInputId" type="text" class="px-1 bg-transparent text-dark" style="border-bottom: 2px solid var(--main)" />
      </div>

      <div class="d-flex flex-column gap-1">
        <label for="addVisitTypeSelectId" style="color: var(--sub)">العيادة *</label>
        <select id="addVisitTypeSelectId" type="date" class="px-1 bg-transparent text-dark" style="border-bottom: 2px solid var(--main); outline: none"></select>
      </div>

      <div class="d-flex flex-column gap-1">
        <label for="addVisitSpecialSelectId" style="color: var(--sub)">التخصص *</label>
        <select id="addVisitSpecialSelectId" type="date" class="px-1 bg-transparent text-dark" style="border-bottom: 2px solid var(--main); outline: none"></select>
      </div>

      <div class="d-flex flex-column gap-1">
        <label for="addVisitTimestampInputId" style="color: var(--sub)">تاريخ الزيارة *</label>
        <input id="addVisitTimestampInputId" type="datetime-local" class="px-1 bg-transparent text-dark" style="border-bottom: 2px solid var(--main)" />
      </div>

      <div class="d-flex flex-column gap-1">
        <label for="addVisitSecondVisitAtInputId" style="color: var(--sub)">تاريخ زيارة اخري</label>
        <input id="addVisitSecondVisitAtInputId" type="date" class="px-1 bg-transparent text-dark" style="border-bottom: 2px solid var(--main)" />
      </div>

      <div class="d-flex flex-column gap-1">
        <label for="addVisitDoctorNameInputId" style="color: var(--sub)">الطبيب المشخص</label>
        <input id="addVisitDoctorNameInputId" type="text" class="px-1 bg-transparent text-dark" style="border-bottom: 2px solid var(--main)" />
      </div>

      <button id="submitAddVisitButtonId" class="fw-bold py-2 fs-5 mx-auto mt-3 px-5 rounded border-0 text-light" style="background: var(--main); width: max-content">اضافة</button>
    </div>
    
    <div id="addPatientPersonalMedicineFormId" class="form bg-light rounded-3 d-flex gap-3 flex-column p-5 d-none" style="border: 2px solid var(--main)">
      <span id="closeAddPatientPersonalMedicineButtonId" class="text-danger fw-bold fs-4 pointer" style="position: absolute; top: 5px; right: 20px">x</span>
      <h3 class="text-center">اضافة دواء شخصي</h3>

      <div class="d-flex flex-column gap-1">
        <label for="addPatientPersonalMedicineCategorySelectId" style="color: var(--sub)">التصنيف *</label>
        <select id="addPatientPersonalMedicineCategorySelectId" class="px-1 bg-transparent text-dark" style="border-bottom: 2px solid var(--main); outline: none"></select>
      </div>

      <div class="d-flex flex-column gap-1">
        <label for="addPatientPersonalMedicineSelectId" style="color: var(--sub)">الدواء *</label>
        <select id="addPatientPersonalMedicineSelectId" class="px-1 bg-transparent text-dark" style="border-bottom: 2px solid var(--main); outline: none"></select>
      </div>

      <div class="d-flex flex-column gap-1">
        <label for="addPatientPersonalMedicineTimestampId" style="color: var(--sub)">تاريخ الاضافة *</label>
        <input id="addPatientPersonalMedicineTimestampId" type="date" class="px-1 bg-transparent text-dark" style="border-bottom: 2px solid var(--main)" />
      </div>

      <div class="d-flex flex-column gap-1">
        <label for="addPatientPersonalMedicineAmountInputId" style="color: var(--sub)">الكمية *</label>
        <input id="addPatientPersonalMedicineAmountInputId" type="number" min="1" class="px-1 bg-transparent text-dark" style="border-bottom: 2px solid var(--main)" />
      </div>

      <button id="submitAddPatientPersonalMedicineButtonId" class="fw-bold py-2 fs-5 mx-auto mt-3 px-5 rounded border-0 text-light" style="background: var(--main); width: max-content">اضافة</button>
    </div>
    
    <div id="updatePatientPersonalMedicineFormId" class="form bg-light rounded-3 d-flex gap-3 flex-column p-5 d-none" style="border: 2px solid var(--main)">
      <span id="closeUpdatePatientPersonalMedicineButtonId" class="text-danger fw-bold fs-4 pointer" style="position: absolute; top: 5px; right: 20px">x</span>
      <h3 class="text-center">اضافة دواء شخصي</h3>

      <div class="d-flex flex-column gap-1">
        <label for="updatePatientPersonalMedicineCategorySelectId" style="color: var(--sub)">التصنيف *</label>
        <select id="updatePatientPersonalMedicineCategorySelectId" class="px-1 bg-transparent text-dark" style="border-bottom: 2px solid var(--main); outline: none"></select>
      </div>

      <div class="d-flex flex-column gap-1">
        <label for="updatePatientPersonalMedicineSelectId" style="color: var(--sub)">الدواء *</label>
        <select id="updatePatientPersonalMedicineSelectId" class="px-1 bg-transparent text-dark" style="border-bottom: 2px solid var(--main); outline: none"></select>
      </div>

      <div class="d-flex flex-column gap-1">
        <label for="updatePatientPersonalMedicineTimestampId" style="color: var(--sub)">تاريخ الاضافة *</label>
        <input id="updatePatientPersonalMedicineTimestampId" type="date" class="px-1 bg-transparent text-dark" style="border-bottom: 2px solid var(--main)" />
      </div>

      <div class="d-flex flex-column gap-1">
        <label for="updatePatientPersonalMedicineAmountInputId" style="color: var(--sub)">الكمية *</label>
        <input id="updatePatientPersonalMedicineAmountInputId" type="number" min="1" class="px-1 bg-transparent text-dark" style="border-bottom: 2px solid var(--main)" />
      </div>

      <span id="updatePatientPersonalMedicineIdSpanId" class="d-none"></span>
      <button id="submitUpdatePatientPersonalMedicineButtonId" class="fw-bold py-2 fs-5 mx-auto mt-3 px-5 rounded border-0 text-light" style="background: var(--main); width: max-content">اضافة</button>
    </div>

    <div id="overlayDivId" class="overlay d-none"></div>

    <div class="container-lg d-flex flex-column gap-3">
      <div class="w-100 h-100 p-3 rounded mb-5" style="background: rgb(228 220 220 / 80%);">

        <div class="mb-2 d-flex align-items-center justify-content-between">
          <h5>بيانات المريض</h5>
          <button id="updatePatientButtonId" class="px-4 py-1 rounded fw-bold" style="border: 1px solid var(--main); color: var(--main); font-size: 18px">تعديل</button>
        </div>
        <table class="table table-hover table-rounded table-striped d-rtl text-center">
          <thead class="fw-bold text-light" style="background: var(--sub)">  
            <td>اسم المريض</td>
            <td>الدرجة</td>
            <td>الرقم العسكري</td>
            <td>الملاحظات</td>
          </tr>
        </thead>
        <tbody class="bg-light">
          <tr>
            <td id="patientNameId"></td>
            <td id="patientDegreeId"></td>
            <td id="patientMilitaryId"></td>
            <td id="patientNotesId"></td>
          </tr>
        </tbody>
        </table>

        <div class="mb-2 d-flex align-items-center justify-content-between">
          <h5>الزيارات</h5>
          <button id="addPatientVisitButtonId" class="px-4 py-1 rounded fw-bold" style="border: 1px solid var(--main); color: var(--main); font-size: 18px">اضافة</button>
        </div>
        <table class="table table-hover table-rounded table-striped d-rtl text-center">
            <thead class="fw-bold text-light" style="background: var(--sub)">
              <tr>
                <td>نوع العيادة</td>
                <td>التخصص</td>
                <td>التشخيص</td>
                <td>التاريخ والوقت</td>
                <td></td>
              </tr>
            </thead>
            <tbody id="patientVisitsTableBodyId" class="bg-light"></tbody>
        </table>

        <div class="mb-2 d-flex align-items-center justify-content-between">
          <h5>الاورنيك</h5>
        </div>
        <div style="max-height: 35vh; overflow-y: scroll; direction: ltr;">
          <table class="table table-hover table-rounded table-striped d-rtl text-center mb-0">
              <thead class="fw-bold text-light" style="background: var(--sub); position: sticky; top: -1px;">
                <tr>
                  <td>نوع الاورنيك</td>
                  <td>وصف</td>
                  <td>يبدأ في</td>
                  <td>ينتهي في</td> 
                  <td></td>
                </tr>
              </thead>
              <tbody id="patientPermissionsTableBodyId" class="bg-light"></tbody>
          </table>
        </div>  

        <div class="mb-2 d-flex align-items-center justify-content-between">
          <h5>الدواء الشخصي</h5>
          <button id="addPatientPersonalMedicineButtonId" class="px-4 py-1 rounded fw-bold" style="border: 1px solid var(--main); color: var(--main); font-size: 18px">اضافة</button>
        </div>
        <div style="max-height: 35vh; overflow-y: scroll; direction: ltr;">
          <table class="table table-hover table-rounded table-striped d-rtl text-center mb-0">
              <thead class="fw-bold text-light" style="background: var(--sub); position: sticky; top: -1px;">
                <tr>
                  <td>اسم الدواء</td>
                  <td>التصنيف</td>
                  <td>الوقت والتاريخ</td>
                  <td>الكمية</td>
                  <td></td>
                </tr>
              </thead>
              <tbody id="patientPersonalMedicineTableBodyId" class="bg-light"></tbody>
          </table>
        </div>
      </div>
    </div>

    <script src="/js/axios.js"></script>
    <script src="/js/bootstrap.bundle.min.js"></script>
    <script src="/js/select.options.js"></script>
    <script src="/js/utils.js"></script>
    <script src="/js/update.patient.component.js"></script>
    <script src="/js/update.visit.component.js"></script>
    <script src="/js/update.visit.permission.component.js"></script>
    <script src="/js/patient.js"></script>

  </body>
</html>
